{% extends 'base/base.html' %}
{% load static %}

{% block extrastyle %}
  <link href="{% static 'lib/flatpickr/flatpickr.min.css' %}" rel="stylesheet">
  <style type="text/css">
      ul.pagination {
          display: inline-block;
          padding: 0;
          margin: 0;
      }

      ul.pagination li {
          display: inline-block;
      }

      ul.pagination li a {
          color: black;
          float: left;
          padding: 8px 16px;
          text-decoration: none;
          transition: background-color .3s;
          border: 1px solid #ddd;
      }

      ul.pagination li.active a {
          background-color: darkgray;
          color: white;
          border: 1px solid darkgray;
          pointer-events: none;
      }

      ul.pagination li a:hover:not(.active) {
          background-color: #ddd;
      }
  </style>
  <style>

      .btn-1 {
          text-align: center;
          float: left;
          border: 1px solid #2B2D42;
          background-color: #2B2D42;
          color: white;
          box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }

      .btn-2 {
          text-align: center;
          float: left;
          border: 1px solid floralwhite;
          background-color: white;
          color: black;
          box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      }

      .btn-2:hover {
          transform: scale(0.98);
          /* Scaling button to 0.98 to its original size */
          box-shadow: 3px 2px 22px 1px rgba(0, 0, 0, 0.24);
          /* Lowering the shadow */
      }


      .table.dataTable tbody th, table.dataTable tbody td {
          padding: 8px 10px 8px 18px !important;
      }

      .modal-body {
          background-color: #F7F8FB !important;
      }

      .form-control {
          background-color: white !important;
      }

      .second {
          background-color: white !important;
          color: #2B2D42 !important;
          border-color: #8d8e99 !important;
          border-radius: 12px !important;
          height: 36px !important;
          font-size: 12px !important;
      }
  </style>
{% endblock %}

{% block body %}

  <div class="card mb-3">
    <div class="card-body ">
      <div class="row justify-content-between align-items-center">
        <a class="nav-link py-0" href="{% url 'listProjects' %}"><span class="fas fa-angle-left mr-2"
                                                                       data-fa-transform="shrink-3"></span>Atr√°s</a>
      </div>
      <div class="row justify-content-between align-items-center">
        <div class="col-md-6">
          <h5 class="mb-2 mb-md-0 text-black">{{ project.nombre }}</h5>
        </div>
        <div class="col-md-2">
          {% if project.status == '0' %}
            <span class="badge badge rounded-capsule d-block badge-soft-primary">En Proceso</span>
          {% elif project.status == '1' %}
            <span class="badge badge rounded-capsule d-block badge-soft-warning">Pendiente</span>
          {% else %}
            <span class="badge badge rounded-capsule d-block badge-soft-success">Completo</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-body ">
      <div class="row justify-content-end align-items-center">
        <div class="col-md-4">
          <div class="nav-bar nav-bar-right">
            <div class="nav nav-pills">
              <a class="nav-link col-md-6 btn-2 my-1" href="{% url 'listActivities' pk=project.id %}">Actividades</a>
              <button class="nav-link col-md-6 btn-1 my-1" disabled>Patrimonios</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-3">
    <div class="card-body">
      <div class="row">
        {% for pat in patrimonios %}
          <div class="col-12 col-lg-4 col-md-4 col-sm-6">
            <div class="card">
              <div class="card-img-top" style="height: 13rem">
                <img class="h-100 w-100 rounded-top"
                     src="https://www.culturandesperu.com/wp-content/uploads/2018/01/FEATURED-THE-SACRED-CITY-OF-CARAL.jpg"
                     alt="Card image cap">
              </div>
              <div class="card-img-overlay align-text-bottom degradado" style="height: 13rem">
                <h5 class="card-text pt-9" style="color: white">{{ pat.tituloDemoninacion }}</h5>
              </div>
              <div class="card-body">
                <p class="card-text font-italic mb-0">{{ pat.get_categoria_display }}
                  - {{ pat.get_subcategoria_display }}</p>
                <p class="card-text font-weight-semi-bold">{{ pat.direccion }}</p>
                <div class="row">
                  <div class="col-sm-5"></div>
                  <div class="col-sm-7">
                    <a class="float-right mr-3 pt-2 tooltip-inner arrow btn btn-block" type="button"
                       href="">
                      Ver detalle
                    </a>
                  </div>

                </div>
              </div>
            </div>
            <div><p></p></div>
          </div>
        {% endfor %}
      </div>
    </div>
    <!--Paginacion-->
    <div class="card-footer bg-light d-flex justify-content-center">

      <div id="paginator">
        <ul class="pagination"></ul>
      </div>
    </div>
  </div>

{% endblock %}

{% block extrajs %}
  <script src="{% static 'lib/flatpickr/flatpickr.min.js' %}"></script>
  <script src="{% static 'lib/bootstrap-pagy-master/bootstrap-pagy.js' %}"></script>
  <script src="{% static 'lib/bootstrap-pagy-master/js/prettify.js' %}"></script>
  <script>
    $("#paginator").pagy({
      totalPages: 5,
      currentPage: 1,
      page: function (page) {
        console.log(page)
        return true;
      }
    });
  </script>
{% endblock %}